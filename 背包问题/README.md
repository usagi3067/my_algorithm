# 背包问题

也可看做是组合类dp问题， 即从总的元素里挑出一系列元素使得挑出来的元素满足规定的最优方案。  

**动态规划总的思路：**

1. 以集合的角度去思考问题。 集合代表一系列的选法方案。   每个集合可以确定一个值， 这个值代表这一系列选法方案中最优的方案其属性（或是最大价值， 或是选法方案元素个数等等）。

2. 最大的集合（即求解的结果）可以想象为从所有的元素中挑出来的合规的元素选法方案。
3. 动态规划的核心就是从小的集合中去推出衍生它的大的集合（常说的状态转移方程）。 最小的集合即为平凡情况， 即可从最小的集合推出最大的集合。 

# 一、01背包问题

有 $N$ 件物品和一个容量是$V$的背包。**每件物品只能使用一次**。

第$i$件物品的体积是 $V_i$，价值是 $W_i$。

求解将哪些物品装入背包，可使这些物品的总体积不超过背包容量，且总价值最大。
输出最大价值。

##  01 背包问题的集合

可描述为从前$i$个物品中选， 且总体积不超过$j$的选法的集合

集合的属性为最大的价值。 

可定义背包问题的状态表示即$f(i, j)$为 从前$i$个物品中选， 且总体积不超过$j$的选法的集合最大价值。 

## 01背包问题的集合状态转移方程

状态转移方程需要划分该集合的状态。 01背包问题的集合状态可以划分为以下2个子集合。 

> 划分常用依据： 以”最后一步的明显特征“来划分。注意能不能划分还得看会不会满足不了背包容量。 比如可能第i件物品本身就超过背包体积了， 自然这个方案就要被PASS掉。 

1. 不选第i个物品的所有方案

   $f(i - 1, j)$

2. 选择第i个物品的所有方案

   $f(i - 1, j - V_i) + W_i$

   即$f(i, j) = max\{f(i - 1, j), f(i - 1, j - V_i) + W_i\}$

# 二、完全背包问题

有 $N$ 件物品和一个容量是$V$的背包。**每件物品能使用无限次**。

第$i$件物品的体积是 $V_i$，价值是 $W_i$。

求解将哪些物品装入背包，可使这些物品的总体积不超过背包容量，且总价值最大。
输出最大价值。

## 完全背包问题的集合

同01背包问题

## 完全背包问题的集合状态转移方程

完全背包问题可以划分$S$个。 （划分不了无限个哦，因为若选则无限个第$i$件物品， 那必然超过背包的容量了， 有一个上限值记作$S$） 

1. 不选第i个物品的所有方案

   $f(i - 1, j)$

2. 选择一个第i个物品的所有方案

   $f(i - 1, j - V_i) + W_i$

3. 选择两个第i个物品的所有方案

   $f(i - 1, j - 2V_i) + 2W_i$

   ……

​S. 选择S个第i个物品的所有方案

​	$f(i - 1, j - SV_i) + SW_i$

即$f(i, j) = max\{f(i - 1, j), f(i - 1, j - V_i) + W_i,...,	f(i - 1, j - SV_i) + SW_i\}$

其上述方案可优化，这里暂不给出推导过程， 直接给结论。

$f(i, j) = max\{f(i - 1,j), f(i, j - V_i) + W_i \}$
